c
c 
c
n
c
@purchase
n
c
@purchase
n
@purchase.price
n
 @purchase = Purchase.find_by(reservation_id: @reservation.id)
c
params
Purchase.find_by(reservation_id: @reservation.id)
Purchase.find_by(reservation_id: reservation.id)
@purchase
n
Purchase.last
n
Purchase.last
params
c
@purchase
n
reservation
@reservation
c
Purchase.find_by(reservation_id: @reservation.id)
Purchase.findby(reservation_id: @reservation.id)
Purchase.all
@reservation.id
reservation.id
n
@reservation
c
@user.email
@reservation
c
user.email
user
c
user.email
user
c
check_out
n
check_in
n
c
params[:purchase][:price].to_s
c
@reservation
c
rez.paid
c
rez.paid
c
rez.paid
c
n
rez
rez.paid
c
@reservation
n
@reservation
c
params[:purchase][:reservation_id]
params[purchase][reservation_id]
params[:reservation_id]
params
c
rez.paid
c
rez.paid
c
params
c
params
n
params
c
rez
c
Reservation.where(user_id: self.id).each
Reservation.where(user_id: self.id)
self.reservations
self.Reservations
self.Reservation
self.reservations.first
self.reservations
self.reservation
Reservation.find_by(user_id: self.id)
Reservation.all
Reservation.find(self.id)
Reservation
Reservations.find(self.id)
self.reservations
self
self.reservations
rez
c
user_total
c
self.reservations.each
self.reservations
this.reservations
c
current_user
c
current_user
param
params
User.all
current_user
c
n
rez.user_id
Reservation.count
c
rez.user_id
c
rez.user_id
c
rez.user_id
c
@reservation
c
rez.user_id
c
@reservation.totalcost
n
c
Reservation.all
rez.totalcost
c
@reservation.totalcost
n
344*4
totalcost
n
check_out- check_in
num_days
n
@reservation.listing_id
c
rez.listing
c
rez
rez.listing_id
rez.user
rez.listing
rez
c
@reservation
c
listing.images[0].url
listing.images[0]
listing.images
c
listing_params
@listing.images = images[0]
@listing
n
c
listing_params
c
listing_params{:price}
listing_params{price}
listing_params{price{
listing_params[price]
listing_params[images]
listing_params[images[0]]
images[0]
listing_params
params
c
n
c
if current_user? 
current_user
current_user?
c
Date.strptime(check_in_date, "%m/%d/%Y")
c
Date.strptime(check_in_date, "%m/%d/%Y")
Date.strptime("12/22/2011", "%m/%d/%Y")
check_in_date
Time.parse(check_in_date)
c
DateTime.parse(check_in_date)
check_in_date
check_in_date.sub! '/','-'
check_in_date
DateTime.parse(check_in_date)
DateTime.parse(check_in_date).strftime("%m/%d/%Y")
check_in_date
c
check_out_date
c
n
c
DateTime.parse(check_in_date)
check_in_date
DateTime.parse(check_in_date).strftime("%m-%d-%Y")
c
check_in_date
DateTime.parse(check_in_date)
DateTime.parse(check_in_date).strftime("%d-%m-%Y")
c
check_in
check_in\
n
c
DateTime.parse(check_in_date).strftime("%d-%m-%Y")
check_in_date
check_in
c
n
params
c
params
c
params
reservation_params
c
n
Listing.find(12)
params[:listing]
params
c
params[:listing]
@listing
c
params
c
params
reservation_params
c
reservation_params
c
@reservation.user
@reservation
c
@listing
c
n
listing_params
n
c
n
@listing
n
c
